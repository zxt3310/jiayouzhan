(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/startRepairReq/startRepairReq"],{"0ad1":function(t,e,a){"use strict";var n=a("d0fc"),i=a.n(n);i.a},"0bc2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"4d25":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a"));i(a("bbae"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a,n,i,s,r){try{var o=t[s](r),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(n,i)}function r(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var r=t.apply(e,a);function o(t){s(r,n,i,o,c,"next",t)}function c(t){s(r,n,i,o,c,"throw",t)}o(void 0)})}}var o=function(){return a.e("pages/template/mpvue-picker/mpvuePicker").then(a.bind(null,"64a0"))},c=[["camera"],["album"],["camera","album"]],u=[["compressed"],["original"],["compressed","original"]],l={data:function(){return{mode:"multiLinkageSelector",pickerAry:[],faultyPickerAry:[],gasPickerAry:[],faultyId:0,fau_name:"请选择",faulty_desc:"",gasId:0,gas_name:"请选择",gas_addr:"",deepL:0,imageList:[],contact:"",phone:""}},components:{mpvuePicker:o},methods:{faultyPickerShow:function(){this.mode="selector",this.deepL=1,this.$refs.faultyPicker.show()},gasPickerShow:function(){this.mode="selector",this.deepL=1,this.$refs.gasPicker.show()},chooseImage:function(){var e=r(n.default.mark(function e(){var a=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(4!==this.imageList.length){e.next=3;break}return t.showModal({content:"图片数量已达上限"}),e.abrupt("return");case 3:t.chooseImage({sourceType:c[2],sizeType:u[2],count:4-this.imageList.length,success:function(t){a.imageList=a.imageList.concat(t.tempFilePaths)}});case 4:case"end":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}(),previewImage:function(e){var a=e.target.dataset.src;t.previewImage({current:a,urls:this.imageList})},deleteImg:function(t){var e=t.target.dataset.src;this.imageList.splice(this.imageList.findIndex(function(t){return t===e}),1)},faultyConfirm:function(t){this.faultyId=t.value[0],this.fau_name=t.label,console.log(this.faultyId," at pages/startRepairReq/startRepairReq.vue:153")},gasConfirm:function(t){console.log(t," at pages/startRepairReq/startRepairReq.vue:157"),this.gas_name=t.label,this.gasId=t.value[0];var e=t.index[0];this.gas_addr=this.gasPickerAry[e].address,console.log(this.gasId," at pages/startRepairReq/startRepairReq.vue:163")},bindDesc:function(t){this.faulty_desc=t.detail.value},bindContact:function(t){this.contact=t.detail.value},bindPhone:function(t){this.phone=t.detail.value},submit:function(){console.log(this.faultyId+"  "+this.faulty_desc+"  "+this.gasId+"  "+this.contact+"  "+this.phone," at pages/startRepairReq/startRepairReq.vue:176");this.faultyId,this.faulty_desc,this.gasId,this.contact,this.phone;this.$fly.post("api/sub-maint-order",{faulty_item:this.fau_name,faulty_desc:this.faulty_desc,gas_station_id:this.gasId,contact:this.contact,contact_phone:this.phone}).then(function(e){console.log(e," at pages/startRepairReq/startRepairReq.vue:193"),t.navigateBack(),t.showToast({icon:"success",title:"提交成功"})}).catch(function(e){console.log(e," at pages/startRepairReq/startRepairReq.vue:200"),t.showToast({icon:"none",title:"提交失败，请重试"})})}},onLoad:function(){var t=this;this.$fly.post("api/issue-desc",{}).then(function(e){t.faultyPickerAry=e}).catch(function(t){}),this.$fly.post("api/retrive-gas-station",{}).then(function(e){t.gasPickerAry=e}).catch(function(t){})}};e.default=l}).call(this,a("6e42")["default"])},7064:function(t,e,a){"use strict";a.r(e);var n=a("0bc2"),i=a("8f50");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("0ad1");var r=a("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=o.exports},"8f50":function(t,e,a){"use strict";a.r(e);var n=a("4d25"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},d0fc:function(t,e,a){}},[["0c69","common/runtime","common/vendor"]]]);